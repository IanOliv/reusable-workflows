name: "Metrics Workflow"

on:
  workflow_dispatch:
  repository_dispatch:
    types: [metrics]

jobs:
    build:
      runs-on: ubuntu-latest

      steps:
      - name: Checkout code
        uses: actions/checkout@v2
      
      - name: Run Composite Action
        uses: ./.github/actions/gh-metrics
        with:
          action: 'init'
      # - name: Cache Node.js modules
      #   uses: actions/cache@v2
      #   with:
      #     path: ~/.npm
      #     key: ${{ runner.os }}-node-9-${{ hashFiles('**/package-lock.json') }} 
      #     # restore-keys: |
      #     #     ${{ runner.os }}-node-

      # - name: Set up Node.js
      #   uses: actions/setup-node@v2
      #   with:
      #     node-version: '14'

      # - name: Install dependencies
      #   run: npm install

      # - name: Run tests
      #   run: npm test